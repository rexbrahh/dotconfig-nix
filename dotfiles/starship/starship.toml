add_newline = false
scan_timeout = 50
# Left line: dir+git on the left, host/time on the right.
format = "$directory$git_branch$git_status$git_state$git_commit$fill$hostname$time$line_break$character"
# Right prompt (still right-aligned on line 1; Starship hides it if no space).
right_format = "$status$cmd_duration$jobs$zig$rust$golang$nodejs$python$ruby$docker_context$package$nix_shell$custom.nixver"

[aws]
disabled = true

[gcloud]
disabled = true

[fill]
symbol = " "

[directory]
style = "fg:#7aa2f7 bold"
truncation_length = 3
truncate_to_repo = true
read_only = " ÔÄ£"
format = "[$path]($style) "

[git_branch]
symbol = "ÓÇ† "
style = "fg:#7dcfff bold"
format = "[$symbol$branch]($style) "

[git_status]
style = "fg:#7dcfff"
format = "[$all_status$ahead_behind]($style) "

[git_state]
format = "([$state( $progress_current/$progress_total)]($style)) "
style = "fg:#f7768e"

[git_commit]
commit_hash_length = 7
only_detached = false
style = "fg:#9aa5ce"
tag_disabled = true
format = "[$hash]($style) "

[hostname]
ssh_only = false
format = "[$hostname](fg:#9aa5ce) "

[time]
disabled = false
format = "[$time](fg:#565f89)"
time_format = "%H:%M"

[character]
success_symbol = "[‚ùØ](fg:#85befd)"
error_symbol = "[‚ùØ](fg:#f7768e)"
vicmd_symbol = "[‚ùÆ](fg:#85befd)"

[package]
format = "[$symbol$version]($style) "
style = "fg:#9aa5ce"

[nix_shell]
format = "[nix $name]($style) "
style = "fg:#9aa5ce"

[zig]
symbol = "ü¶é "
format = "[$symbol$version]($style) "
style = "fg:#7dcfff"
detect_extensions = ["zig", "zon"]
detect_files = ["build.zig"]

[rust]
symbol = "ü¶Ä "
format = "[$symbol$version]($style) "
style = "fg:#e0af68"
detect_extensions = ["rs"]
detect_files = ["Cargo.toml", "rust-toolchain", "rust-toolchain.toml"]

[golang]
symbol = "üêπ "
format = "[$symbol$version]($style) "
style = "fg:#7dcfff"
detect_extensions = ["go"]
detect_files = ["go.mod", "go.work", "Gopkg.toml"]

[nodejs]
symbol = "‚¨¢ "
format = "[$symbol$version]($style) "
style = "fg:#9ece6a"
detect_extensions = ["js", "mjs", "cjs", "ts", "tsx"]
detect_files = ["package.json", "pnpm-lock.yaml", "yarn.lock", "bun.lockb", "deno.json"]

[python]
symbol = "üêç "
format = "[$symbol$version]($style) "
style = "fg:#c0caf5"
detect_extensions = ["py"]
detect_files = ["requirements.txt", "pyproject.toml", "Pipfile", "setup.py"]

[ruby]
symbol = "üíé "
format = "[$symbol$version]($style) "
style = "fg:#f7768e"
detect_extensions = ["rb"]
detect_files = ["Gemfile", "Gemfile.lock"]

[docker_context]
symbol = "üê≥ "
format = "[$symbol$context]($style) "
style = "fg:#7dcfff"

[kubernetes]
disabled = true
detect_files = ["kubeconfig", ".kube/config"]
format = "[$context]($style) "
style = "bg:#f7768e fg:#1a1b26"
contexts.prod.style = "bg:#f7768e fg:#1a1b26"

[cmd_duration]
min_time = 800
format = "[$duration]($style) "
style = "fg:#9aa5ce"

[custom.nixver]
command = "nix --version | head -n1 | awk '{print $3}'"
detect_files = ["flake.nix", "shell.nix"]
style = "fg:#9aa5ce"
format = "[nix $output]($style) "

[status]
style = "fg:#f7768e"
format = "[‚úñ $status]($style) "
disabled = false
map_symbol = true

[jobs]
symbol = "ÔÇÖ "
style = "fg:#9aa5ce"
format = "[$symbol$number]($style) "
number_threshold = 1
